<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1894.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1">&lt;meta charset="utf-8" /&gt;</p>
<p class="p1">&lt;title&gt;Play map locations as a slideshow&lt;/title&gt;</p>
<p class="p1">&lt;meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" /&gt;</p>
<p class="p1">&lt;script src="https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.js"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;link href="https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.css" rel="stylesheet" /&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1"><span class="Apple-tab-span">	</span>body { margin: 0; padding: 0; }</p>
<p class="p1"><span class="Apple-tab-span">	</span>#map { position: absolute; top: 0; bottom: 0; width: 100%; }</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>.map-overlay-container {</p>
<p class="p1"><span class="Apple-converted-space">        </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">        </span>width: 25%;</p>
<p class="p1"><span class="Apple-converted-space">        </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>left: 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>z-index: 1;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.map-overlay {</p>
<p class="p1"><span class="Apple-converted-space">        </span>font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">        </span>background-color: #fff;</p>
<p class="p1"><span class="Apple-converted-space">        </span>border-radius: 3px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.map-overlay h2,</p>
<p class="p1"><span class="Apple-converted-space">    </span>.map-overlay p {</p>
<p class="p1"><span class="Apple-converted-space">        </span>margin: 0 0 10px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="map"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div class="map-overlay-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="map-overlay"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h2 id="location-title"&gt;&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p id="location-description"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;small</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;Text credit:</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;a target="_blank" href="https://www.wikipedia.org/"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;wikipedia&lt;/a</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;&lt;/small</p>
<p class="p1"><span class="Apple-converted-space">        </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-tab-span">	</span>mapboxgl.accessToken = 'pk.eyJ1IjoiaW1tbW9yIiwiYSI6ImNrNmxhYTZvcDA5cTgzZHBkOThxMTl3N2IifQ.St9SZGWOIL04YeKFSuzYBw';</p>
<p class="p1"><span class="Apple-converted-space">    </span>var map = new mapboxgl.Map({</p>
<p class="p1"><span class="Apple-converted-space">        </span>container: 'map',</p>
<p class="p1"><span class="Apple-converted-space">        </span>style: 'mapbox://styles/immmor/ck6qy8bsk0mq01irxcyfhidd3',</p>
<p class="p1"><span class="Apple-converted-space">      </span>//mapbox://styles/mapbox/streets-v11</p>
<p class="p1"><span class="Apple-converted-space">        </span>center: [-123.0824, 49.2501],</p>
<p class="p1"><span class="Apple-converted-space">        </span>maxZoom: 16,</p>
<p class="p1"><span class="Apple-converted-space">        </span>minZoom: 9,</p>
<p class="p1"><span class="Apple-converted-space">        </span>zoom: 9.68</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>var title = document.getElementById('location-title');</p>
<p class="p1"><span class="Apple-converted-space">    </span>var description = document.getElementById('location-description');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>var locations = [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'id': '2',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'UBC',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>"The University of British Columbia is a public research university with campuses in Vancouver and Kelowna, British Columbia. Established in 1908, UBC is British Columbia's oldest university. The university has ranked among the top three universities in Canada.",</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.2460, 49.2606],</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 13.1,</p>
<p class="p1"><span class="Apple-converted-space">                </span>pitch: 50</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'id': '3',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'Vancouver Airport',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>"Vancouver International Airport is an international airport in Richmond, British Columbia. It is the primary international airport serving Vancouver, about 12 km from Downtown Vancouver. It is the second busiest airport in Canada by aircraft movements and passengers, behind Toronto Pearson International Airport.",</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.1815, 49.1967],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bearing: -8.9,</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 13.1</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'id': '1',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'Downtown Vancouver',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>'Downtown is known for a buzzing nightlife scene on neon-lit Granville Street, with raucous bars, clubs, and live bands at the art deco Commodore Ballroom. By day, it’s a busy shopping hub of chain and luxury boutiques, plus high-end department stores in the CF Pacific Centre mall. Food trucks and casual lunch spots dot the area, and cruise liners depart from Canada Place, a terminal designed to look like a ship',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.1171, 49.2820],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bearing: 25.3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 13.5</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'id': '4',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'Richmond Night Market',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>"The Richmond Night Market is an annual night market held through the summer months in Richmond, British Columbia, Canada. It runs on weekends and is held near Bridgeport Station and River Rock Casino.",</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.133123, 49.193570],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bearing: 36,</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 13.37</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'id': '5',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'Playland at the PNE',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>'Playland is an amusement park in Vancouver, British Columbia, Canada. It is located in Hastings Park and is the oldest amusement park in Canada. The regular season lasts from May to the end of September every year. The park reopens for Fright Nights from mid October to the Halloween weekend.',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.0362, 49.2816],</p>
<p class="p1"><span class="Apple-converted-space">                </span>bearing: 28.4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 13.64</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>'title': 'Vancouver',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'description':</p>
<p class="p1"><span class="Apple-converted-space">                </span>'Vancouver, a bustling west coast seaport in British Columbia, is among Canada’s densest, most ethnically diverse cities. A popular filming location, it’s surrounded by mountains, and also has thriving art, theatre and music scenes. Vancouver Art Gallery is known for its works by regional artists, while the Museum of Anthropology houses preeminent First Nations collections.',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'camera': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>center: [-123.0824, 49.2501],</p>
<p class="p1"><span class="Apple-converted-space">                </span>zoom: 10.68,</p>
<p class="p1"><span class="Apple-converted-space">                </span>bearing: 0,</p>
<p class="p1"><span class="Apple-converted-space">                </span>pitch: 0</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function highlightBorough(code) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Only show the polygon feature that cooresponds to `borocode` in the data</p>
<p class="p1"><span class="Apple-converted-space">        </span>map.setFilter('highlight', ['==', 'borocode', code]);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function playback(index) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>title.textContent = locations[index].title;</p>
<p class="p1"><span class="Apple-converted-space">        </span>description.textContent = locations[index].description;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>highlightBorough(locations[index].id ? locations[index].id : '');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Animate the map position based on camera properties</p>
<p class="p1"><span class="Apple-converted-space">        </span>map.flyTo(locations[index].camera);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>map.once('moveend', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Duration the slide is on screen after interaction</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.setTimeout(function() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Increment index</p>
<p class="p1"><span class="Apple-converted-space">                </span>index = index + 1 === locations.length ? 0 : index + 1;</p>
<p class="p1"><span class="Apple-converted-space">                </span>playback(index);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 3000); // After callback, show the location for 3 seconds.</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Display the last title/description first</p>
<p class="p1"><span class="Apple-converted-space">    </span>title.textContent = locations[locations.length - 1].title;</p>
<p class="p1"><span class="Apple-converted-space">    </span>description.textContent = locations[locations.length - 1].description;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>map.on('load', function() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>map.addSource('boroughs', {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'type': 'vector',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'url': 'mapbox://mapbox.8ibmsn6u'</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>map.addLayer(</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>'id': 'highlight',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'type': 'fill',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'source': 'boroughs',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'source-layer': 'original',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'paint': {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'fill-color': '#fd6b50',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'fill-opacity': 0.25</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>'filter': ['==', 'borocode', '']</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'settlement-subdivision-label'</p>
<p class="p1"><span class="Apple-converted-space">        </span>); // Place polygon under the neighborhood labels.</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Start the playback animation for each borough</p>
<p class="p1"><span class="Apple-converted-space">        </span>playback(0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
